!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ImageProcessor=t():e.ImageProcessor=t()}(self,(function(){return(()=>{var e={575:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},913:e=>{function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}},318:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}}},501:function(e,t,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(575),r(913),r(383)],void 0===(i="function"==typeof(n=function(e,t,n,o){"use strict";var i=r(318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=i(t),n=i(n),o=i(o);var a={},s=function(){function e(r){(0,t.default)(this,e),this._file=r}return(0,n.default)(e,[{key:"getDetails",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=Object.assign(t,a),new Promise((function(r,n){var i=new o.default;i.postMessage({type:"getDetails",file:e._file,preview:t.preview}),i.onmessage=function(e){r(e)}}))}}]),e}();e.default=s})?n.apply(t,o):n)||(e.exports=i)},383:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(477),o=r.n(n);function i(){return o()('(()=>{var e={950:function(e,t){var r,n;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,void 0===(n="function"==typeof(r=function(){"use strict";var e=function(e){return("00"+e).slice(-2)},t=function(e,t){if(t>e.length)throw new TypeError("Corrupt JPG, exceeded buffer limits");if(255!==e[t])throw console.log("BLOCK #: ",e[t].toString(16)),new TypeError("Invalid JPG, marker table corrupted")},r=function(t){var r=function(t,r){for(var n="",i=!1,a=0;a<t.length;a++){var o,s=e(t[a].toString(16));switch(t[a+1]&&e(t[a+1].toString(16)),r){case"image/png":o=a>20}if(n+=s+" ",o)i=a+10;else if(i===a)break}return n}(t,"image/png").split(" "),n=r[16]+r[17]+r[18]+r[19],i=r[20]+r[21]+r[22]+r[23];return{width:parseInt(n,16),height:parseInt(i,16)}};onmessage=function(n){if("getDetails"===n.data.type){var i,a=n.data.file,o=new FileReaderSync,s=o.readAsArrayBuffer(a),f=new Uint8Array(s),g=n.data.preview?o.readAsDataURL(a):null;switch(a.type){case"image/jpeg":i=function(r){var n,i,a,o,s;for(r=r.slice(4,1048576);r.length;){if((o=parseInt(e(r[0].toString(16))+e(r[1].toString(16)),16))!==s&&(t(r,o),s=o),192===(a=r[o+1])||193===a||194===a){var f=e(r[o+5].toString(16))+e(r[o+6].toString(16)),g=e(r[o+7].toString(16))+e(r[o+8].toString(16));n=parseInt(g,16),i=parseInt(f,16);break}r=r.slice(o+2)}return{width:n,height:i}}(f);break;case"image/png":i=r(f)}var p={width:i.width,height:i.height};g&&(p.preview=g),postMessage(p)}}})?r.apply(t,[]):r)||(e.exports=n)}},t={};!function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}(950)})();',"Worker",void 0,r.p+"image-worker.worker.js")}},477:e=>{"use strict";e.exports=function(e,t,r,n){try{try{var o;try{o=new window.Blob([e])}catch(t){(o=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),o=o.getBlob()}var i=window.URL||window.webkitURL,a=i.createObjectURL(o),s=new window[t](a,r);return i.revokeObjectURL(a),s}catch(n){return new window[t]("data:application/javascript,".concat(encodeURIComponent(e)),r)}}catch(e){if(!n)throw Error("Inline worker is not supported");return new window[t](n,r)}}}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}return r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),r(501)})()}));